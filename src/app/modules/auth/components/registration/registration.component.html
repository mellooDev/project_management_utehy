<form
  class="form w-100"
  novalidate="novalidate"
  id="kt_login_signup_form"
  [formGroup]="registrationForm"
  (ngSubmit)="submit()"
>
  <!--begin::Heading-->
  <div class="text-center mb-11">
    <!--begin::Title-->
    <div class="flex items-center justify-center mb-12">
      <svg
        _ngcontent-ng-c675859594=""
        width="150"
        id="Layer_1"
        data-name="Layer 1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 390.66 174.99"
      >
        <defs _ngcontent-ng-c675859594="">
          <style _ngcontent-ng-c675859594="">
            .cls-1 {
              fill: #0066b3;
            }

            .cls-2 {
              fill: url(#linear-gradient);
            }

            .cls-3 {
              fill: url(#linear-gradient-2);
            }
          </style>
          <linearGradient
            _ngcontent-ng-c675859594=""
            id="linear-gradient"
            x1="78.22"
            y1="298.66"
            x2="236.94"
            y2="298.66"
            gradientUnits="userSpaceOnUse"
          >
            <stop
              _ngcontent-ng-c675859594=""
              offset="0.05"
              stop-color="#0066b3"
            ></stop>
            <stop
              _ngcontent-ng-c675859594=""
              offset="0.95"
              stop-color="#0080c7"
            ></stop>
          </linearGradient>
          <linearGradient
            _ngcontent-ng-c675859594=""
            id="linear-gradient-2"
            x1="78.22"
            y1="374.12"
            x2="236.94"
            y2="374.12"
            gradientUnits="userSpaceOnUse"
          >
            <stop
              _ngcontent-ng-c675859594=""
              offset="0.05"
              stop-color="#f26623"
            ></stop>
            <stop
              _ngcontent-ng-c675859594=""
              offset="0.95"
              stop-color="#f99d2a"
            ></stop>
          </linearGradient>
        </defs>
        <path
          _ngcontent-ng-c675859594=""
          d="M137.15,345.67a5.62,5.62,0,0,1,8.52-.09,9,9,0,0,0,1.92,2.17,8.62,8.62,0,1,0-1.9-11.23c-.09.1-.17.2-.26.29a5.66,5.66,0,0,1-7.5.4,5.07,5.07,0,0,1-.67-.64A8.6,8.6,0,1,0,136,347.1,9.17,9.17,0,0,0,137.15,345.67Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M181.84,345.9l.06,0a5.54,5.54,0,0,1-.27-9.44h0a8.46,8.46,0,0,0,2.41-2.69,8.6,8.6,0,0,0-11.45-11.9,5.63,5.63,0,0,1-7.45-4.16,8.41,8.41,0,0,0-.58-2.84,8.61,8.61,0,1,0-3.93,10.7l.37-.12a5.63,5.63,0,0,1,6.71,3.37,4.76,4.76,0,0,1,.26.89,8.62,8.62,0,0,0,3.45,6.68l-.06.06a5.82,5.82,0,0,1,.91.73,5.52,5.52,0,0,1,.41,7.4,5.78,5.78,0,0,1-.94.91l-.41.28-.25.16,0,0a8.54,8.54,0,0,0-2.94,4.44,9,9,0,0,0-.29,1.8,5.62,5.62,0,0,1-7.38,4.27A8.59,8.59,0,0,0,148,361.65a8.51,8.51,0,0,0,.8,6.51,8.6,8.6,0,0,0,16.09-3.87c0-.12,0-.25.09-.38a5.63,5.63,0,0,1,6.33-4,6,6,0,0,1,.9.23A8.6,8.6,0,0,0,184,348.38,8.36,8.36,0,0,0,181.84,345.9Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M275.83,393.1V382.62h3.67a4.33,4.33,0,0,1,3.18,1.23,4.24,4.24,0,0,1,1.25,3.15v1.73a4.21,4.21,0,0,1-1.25,3.15,4.37,4.37,0,0,1-3.18,1.22Zm2.11-8.86v7.25h1.56a2.08,2.08,0,0,0,1.68-.78,3,3,0,0,0,.63-2V387a3,3,0,0,0-.63-2,2.1,2.1,0,0,0-1.68-.77Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M291,390.84h-3.41l-.71,2.26h-2.21l3.55-10.48h2.16l3.54,10.48h-2.21Zm-2.89-1.65h2.38l-1.17-3.69h0Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M301.59,384.24h-3v8.86h-2.11v-8.86h-3v-1.62h8.09Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M307.45,390.84H304l-.71,2.26h-2.2l3.55-10.48h2.16l3.54,10.48h-2.21Zm-2.9-1.65h2.38l-1.16-3.69h0Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M321.08,388.49h-3.9v3h4.64v1.61h-6.75V382.62h6.73v1.62h-4.62v2.63h3.9Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M327,386.33l2-3.71h2.46l-3.13,5.2,3.31,5.28h-2.55l-2-3.78-2,3.78h-2.46l3.2-5.28-3.12-5.2h2.44Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M340.44,389.63v0a3.28,3.28,0,0,1-1,2.63,4.24,4.24,0,0,1-2.92.95,4.05,4.05,0,0,1-3.06-1.21,4.38,4.38,0,0,1-1.16-3.14v-2.08a4.44,4.44,0,0,1,1.13-3.13,3.9,3.9,0,0,1,3-1.22,4.41,4.41,0,0,1,3,.94,3.21,3.21,0,0,1,1.06,2.63l0,0H338.4a1.75,1.75,0,0,0-2-2,1.68,1.68,0,0,0-1.47.76,3.29,3.29,0,0,0-.54,2v2.09a3.29,3.29,0,0,0,.56,2,1.86,1.86,0,0,0,1.56.76,1.91,1.91,0,0,0,1.42-.49,2.16,2.16,0,0,0,.46-1.52Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M350.47,393.1h-2.11v-4.35h-4.28v4.35H342V382.62h2.12v4.51h4.28v-4.51h2.11Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M358,390.84h-3.41l-.71,2.26H351.7l3.55-10.48h2.17L361,393.1h-2.2Zm-2.89-1.65h2.38l-1.17-3.69h0Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M370.47,393.1h-2.11L364.12,386h0v7.06H362V382.62h2.12l4.24,7.06h0v-7.05h2.11Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M380.48,391.67a4.17,4.17,0,0,1-1.47,1.11,5.85,5.85,0,0,1-2.51.47,4.29,4.29,0,0,1-3.13-1.19,4.17,4.17,0,0,1-1.21-3.11v-2.18a4.22,4.22,0,0,1,1.18-3.1,4,4,0,0,1,3-1.2,4.29,4.29,0,0,1,2.95.91,3,3,0,0,1,1,2.43l0,0h-2a1.74,1.74,0,0,0-.48-1.3,2,2,0,0,0-1.41-.46,1.9,1.9,0,0,0-1.56.74,3,3,0,0,0-.6,1.92V389a3,3,0,0,0,.61,1.94,2,2,0,0,0,1.63.75,3.79,3.79,0,0,0,1.19-.15,1.84,1.84,0,0,0,.67-.38v-2h-2v-1.46h4.14Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M388.29,388.49h-3.9v3H389v1.61h-6.75V382.62H389v1.62h-4.62v2.63h3.9Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M396.31,389.3v3.8H394.2V382.62h4a4.16,4.16,0,0,1,2.85.92,3.35,3.35,0,0,1,0,4.85,4.2,4.2,0,0,1-2.85.91Zm0-1.62h1.92a1.75,1.75,0,0,0,1.33-.48A1.67,1.67,0,0,0,400,386a1.79,1.79,0,0,0-.45-1.25,1.72,1.72,0,0,0-1.34-.49h-1.92Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M405.75,391.49h4.71v1.61h-6.83V382.62h2.12Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M417.49,390.84h-3.41l-.71,2.26h-2.21l3.55-10.48h2.16l3.54,10.48H418.2Zm-2.89-1.65H417l-1.16-3.69h0Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M428.12,384.24h-3v8.86H423v-8.86h-3v-1.62h8.09Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M435.43,388.75h-4.05v4.35h-2.11V382.62h6.9v1.62h-4.79v2.89h4.05Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M446,388.8a4.39,4.39,0,0,1-1.22,3.19,4.26,4.26,0,0,1-3.19,1.26,4.19,4.19,0,0,1-3.16-1.26,4.41,4.41,0,0,1-1.22-3.19v-1.88a4.46,4.46,0,0,1,1.21-3.19,4.19,4.19,0,0,1,3.16-1.26,4.26,4.26,0,0,1,3.19,1.26,4.39,4.39,0,0,1,1.23,3.19Zm-2.11-1.9a3.14,3.14,0,0,0-.61-2,2,2,0,0,0-1.7-.79,2,2,0,0,0-1.67.79,3.19,3.19,0,0,0-.59,2v1.9a3.24,3.24,0,0,0,.6,2,2,2,0,0,0,1.67.79,2,2,0,0,0,1.7-.79,3.24,3.24,0,0,0,.6-2Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M449.81,388.91v4.19H447.7V382.62h3.64a4.36,4.36,0,0,1,2.82.82,2.74,2.74,0,0,1,1,2.28,2.27,2.27,0,0,1-.43,1.39,2.93,2.93,0,0,1-1.25.94,2.29,2.29,0,0,1,1.34.92,2.9,2.9,0,0,1,.41,1.58v.77a3.81,3.81,0,0,0,.12.92,1.25,1.25,0,0,0,.41.71v.15h-2.18a1.14,1.14,0,0,1-.37-.76,6.24,6.24,0,0,1-.09-1v-.74a1.5,1.5,0,0,0-1.64-1.66Zm0-1.62h1.5a2,2,0,0,0,1.32-.37,1.38,1.38,0,0,0,.43-1.11,1.51,1.51,0,0,0-.44-1.15,1.76,1.76,0,0,0-1.28-.42h-1.53Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M462.58,390.34h0l2.71-7.72h2.75V393.1H466V386h0l-2.61,7.16h-1.43l-2.6-7.18h0v7.17h-2.12V382.62h2.77Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M274.86,364.31V303.73a4.94,4.94,0,0,1,4.95-4.94h23.77q13.86,0,23.18,7.94a25.58,25.58,0,0,1,9.32,20.38v12.43a25.55,25.55,0,0,1-9.32,20.4q-9.33,7.92-23.18,7.92H278.41A3.55,3.55,0,0,1,274.86,364.31Zm18.21-53.19v44.41h10.51a13.17,13.17,0,0,0,10.22-4.46q4-4.45,4-11.53V327a16.45,16.45,0,0,0-4-11.43,13.17,13.17,0,0,0-10.22-4.46Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M392.83,338.31H365.18v17.22h33.15v12.33H350.52a3.55,3.55,0,0,1-3.55-3.55V303.73a4.94,4.94,0,0,1,4.95-4.94h46.46v12.33h-33.2V326h27.65Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M426.78,344.19v18.72a4.94,4.94,0,0,1-4.95,4.95h-9.71a3.55,3.55,0,0,1-3.55-3.55V298.79h30q14,0,22.15,6.26a20.6,20.6,0,0,1,0,32.9q-8.19,6.24-22.15,6.24Zm0-12.34h11.75c4,0,7-1,9.06-2.87a9.56,9.56,0,0,0,3.12-7.37,9.94,9.94,0,0,0-3.1-7.55q-3.09-2.94-9.08-2.94H426.78Z"
          transform="translate(-78.22 -251.38)"
          class="cls-1"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M223.54,285.32,171,255a26.79,26.79,0,0,0-26.8,0L91.62,285.32a26.81,26.81,0,0,0-13.4,23.21v37.41l39.58-31.29H98.58v-9.83l45.69-26.38a26.6,26.6,0,0,1,26.62,0l45.69,26.38v25.93l20.36-16.1v-6.12A26.81,26.81,0,0,0,223.54,285.32Z"
          transform="translate(-78.22 -251.38)"
          class="cls-2"
        ></path>
        <path
          _ngcontent-ng-c675859594=""
          d="M197.36,353.16h19.22v4.41a26.62,26.62,0,0,1-13.31,23.05L157.58,407l-45.69-26.38a26.62,26.62,0,0,1-13.31-23.05v-18l-20.36,16.1v13.54a26.82,26.82,0,0,0,13.4,23.22l52.56,30.34a26.79,26.79,0,0,0,26.8,0l52.56-30.34a26.82,26.82,0,0,0,13.4-23.22V321.86Z"
          transform="translate(-78.22 -251.38)"
          class="cls-3"
        ></path>
      </svg>
    </div>
    <h1>ĐĂNG KÝ TÀI KHOẢN</h1>
    <h1 class="text-gray-900 fw-bolder mb-3">
      <!-- Đăng kí -->
    </h1>
    <!--end::Title-->
    <!--begin::Subtitle-->
    <!-- <div class="text-gray-500 fw-semibold fs-6">
      Your Social Campaigns
    </div> -->
    <!--end::Subtitle--->
  </div>
  <!--begin::Heading-->
  <!--begin::Login options-->
  <!--end::Login options-->
  <!-- begin::Alert error-->
  <ng-container *ngIf="hasError">
    <div class="mb-lg-15 alert alert-danger">
      <div class="alert-text font-weight-bold">
        The registration details are incorrect
      </div>
    </div>
  </ng-container>
  <!-- end::Alert error-->

  <!--begin::Form group-->
  <div class="row mb-8">
    <div class="col-md-6">
      <div class="fv-row mb-4">
        <label class="form-label fw-bolder text-gray-900 fs-6">
          <span style="color: red;">*</span>
          Họ tên
        </label>
        <input autofocus class="form-control bg-transparent" type="text" name="fullname" (blur)="trimInput('fullname')" formControlName="fullname"
          placeholder="Fullname" maxlength="50" autocomplete="off"
          [ngClass]="{
            'is-invalid': registrationForm.controls['fullname'].invalid &&
                          (registrationForm.controls['fullname'].touched || registrationForm.controls['fullname'].dirty),
            'is-valid': registrationForm.controls['fullname'].valid && registrationForm.controls['fullname'].touched
          }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Họ tên không được để trống',
        control: registrationForm.controls['fullname']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'maxLength',
        message: 'Họ tên chứa nhiều nhất 50 kí tự.',
        control: registrationForm.controls['fullname']
      }"></ng-container>
      </div>
    </div>
    <!--end::Form group-->
    <!--begin::Form group-->
    <div class="col-md-6">
      <div class="fv-row mb-4">
        <label class="form-label fw-bolder text-gray-900 fs-6">
          <span style="color: red;">*</span>
          Email
        </label>
        <input class="form-control bg-transparent" type="email" placeholder="Email" name="email" (blur)="trimInput('email')" formControlName="email"
          autocomplete="off"
          [ngClass]="{
            'is-invalid': registrationForm.controls['email'].invalid &&
                          (registrationForm.controls['email'].touched || registrationForm.controls['email'].dirty),
            'is-valid': registrationForm.controls['email'].valid && registrationForm.controls['email'].touched
          }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Email là bắt buộc.',
        control: registrationForm.controls['email']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'email',
        message: 'Email sai định dạng',
        control: registrationForm.controls['email']
      }"></ng-container>
      </div>
    </div>
  </div>
  <!--end::Form group-->

  <!--begin::Form group-->
  <div class="row mb-8">
    <div class="col-md-6">
      <div class="fv-row mb-4">
        <label class="form-label fw-bolder text-gray-900 fs-6">
          <span style="color: red;">*</span>
          Mật khẩu
        </label>
        <input class="form-control bg-transparent" type="password" placeholder="Password" name="password"
          formControlName="password" autocomplete="new-password" [ngClass]="{
            'is-invalid': registrationForm.controls['password'].invalid &&
                          (registrationForm.controls['password'].touched || registrationForm.controls['password'].dirty),
            'is-valid': registrationForm.controls['password'].valid && registrationForm.controls['password'].touched
          }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Mật khẩu là bắt buộc',
        control: registrationForm.controls['password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'minlength',
        message: 'Mật khẩu phải chứa ít nhất 8 kí tự.',
        control: registrationForm.controls['password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'maxLength',
        message: 'Mật khẩu chứa nhiều nhất 20 kí tự.',
        control: registrationForm.controls['password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'pattern',
        message: 'Mật khẩu phải bao gồm số, chữ hoa, chữ thường và ký tự đặc biệt.',
        control: registrationForm.controls['password']
      }"></ng-container>
      </div>
    </div>
    <!--end::Form group-->

    <!--begin::Form group-->
    <div class="col-md-6">
      <div class="fv-row mb-4">
        <label class="form-label fw-bolder text-gray-900 fs-6"
          >
          <span style="color: red;">*</span>
          Nhập lại mật khẩu
        </label
        >
        <input
          class="form-control bg-transparent"
          type="password"
          placeholder="Confirm password"
          name="cPassword"
          autocomplete="new-password"
          formControlName="cPassword"
          [ngClass]="{
            'is-invalid': registrationForm.controls['cPassword'].invalid &&
                          (registrationForm.controls['cPassword'].touched || registrationForm.controls['cPassword'].dirty),
            'is-valid': registrationForm.controls['cPassword'].valid && registrationForm.controls['cPassword'].touched
          }"
        />
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Nhập lại mật khẩu là bắt buộc',
            control: registrationForm.controls['cPassword']
          }"
        >
        </ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'minlength',
        message: 'Mật khẩu phải chứa ít nhất 8 kí tự.',
        control: registrationForm.controls['cPassword']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'maxLength',
        message: 'Mật khẩu chứa nhiều nhất 100 kí tự.',
        control: registrationForm.controls['cPassword']
      }"></ng-container>
        <ng-container *ngIf="
        registrationForm.controls['cPassword'].errors &&
        registrationForm.controls['cPassword'].errors.ConfirmPassword
      ">
          <div class="fv-plugins-message-container">
            <div class="fv-help-block">
              'Mật khẩu' và 'Nhập lại mật khẩu' không khớp.
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <!--end::Form group-->
  <div class="form-check mb-4">
    <input
      type="checkbox"
      id="provider-checkbox"
      [(ngModel)]="isProviderChecked"
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="onChangeCheckboxProvider(isProviderChecked)"
      class="form-check-input"
    />
    <!-- <input class="form-check-input" id="provider-checkbox"  (ngModelChange)="onChangeCheckboxProvider(isProviderChecked)" [(ngModel)]="isProviderChecked" [ngModelOptions]="{standalone: true} type="checkbox" value="" id="flexCheckChecked" checked /> -->
    <label for="flexCheckChecked"> Đăng ký bán dữ liệu </label>
  </div>

  <div *ngIf="isProviderChecked">
    <div class="fv-row mb-4">
      <label class="form-label fw-bolder text-gray-900 fs-6">
        <h3>Loại tài khoản</h3>
      </label>
      <div class="form-check mb-4">
        <input
          class="form-check-input"
          type="radio"
          id="1"
          formControlName="typeAcc"
          value="1"
          [ngClass]="{
            'is-invalid': registrationForm.controls['typeAcc'].invalid,
            'is-valid': registrationForm.controls['typeAcc'].valid
          }"
        />
        <label class="form-check-label" for="1">Cá nhân</label>
      </div>

      <div class="form-check mb-4">
        <input
          class="form-check-input"
          type="radio"
          id="2"
          formControlName="typeAcc"
          value="2"
          [ngClass]="{
            'is-invalid': registrationForm.controls['typeAcc'].invalid,
            'is-valid': registrationForm.controls['typeAcc'].valid
          }"
        />
        <label class="form-check-label" for="2">Doanh nghiệp</label>
      </div>
    </div>

    <div class="fv-row mb-4">
      <!-- Card ID Input -->
      <label class="form-label fw-bolder text-gray-900 fs-6">
        <span style="color: red;">*</span>
        Mã số định danh Công dân/Mã số thuế</label>
      <input class="form-control bg-transparent" type="text" name="cardId" formControlName="cardId"
             maxlength="12" minlength="12"
        placeholder="Mã số định danh Công dân/Mã số thuế" (blur)="trimInput('cardId')"  autocomplete="off" [ngClass]="{
          'is-invalid': registrationForm.controls['cardId'].invalid &&
                        (registrationForm.controls['cardId'].touched || registrationForm.controls['cardId'].dirty),
          'is-valid': registrationForm.controls['cardId'].valid && registrationForm.controls['cardId'].touched
        }" />

      <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
    validation: 'required',
    message: 'Mã định danh không được để trống',
    control: registrationForm.controls['cardId']
  }"></ng-container>
      <ng-container
        *ngIf="registrationForm.controls['cardId'].errors?.['minlength']"
      >
        <div class="invalid-feedback">Mã số định danh Công dân/Mã số thuế phải có 12 ký tự.</div>
      </ng-container>
    </div>

    <div class="row mb-8">
      <!-- Căn cước mặt trước -->
      <div class="col-md-6">
        <div class="mt-3">
          <!-- File Upload for Card ID Image -->
          <label class="form-label fw-bolder text-gray-900 fs-6">
            <span style="color: red;">*</span>
            Tải lên mặt trước ID/Giấy đăng ký Kinh doanh
          </label>
          <input type="file" accept="image/*" (change)="onFileChangeBefore($event)" class="form-control"
                 id="cardIdImageBefore" name="cardIdImageBefore" formControlName="cardIdImageBefore" />

        </div>

        <!-- Image Preview -->
        <div *ngIf="imagePreviewBefore" class="mt-3">
          <!--      <label class="form-label fw-bolder text-gray-900 fs-6">Preview</label>-->
          <img [src]="imagePreviewBefore" alt="Card ID Image" class="img-thumbnail"
            style="max-width: 200px; max-height: 200px;" />
        </div>
        <!-- Hiển thị lỗi nếu chưa tải file -->
        <!-- <div *ngIf="registrationForm.controls['cardIdImageBefore'].hasError('required')">
          <small class="text-danger" style="font-size: 14px">ID/Giấy đăng ký Kinh doanh là bắt buộc.</small>
        </div> -->

          <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Thẻ mặt trước không được để trống',
            control: registrationForm.controls['cardIdImageBefore']
          }"
        ></ng-container>
      </div>

      <div class="col-md-6">
        <div class="mt-3">
          <!-- Căn cước mặt sau -->
          <label class="form-label fw-bolder text-gray-900 fs-6">
            <span style="color: red;">*</span>
            Tải lên mặt sau ID/Giấy đăng ký Kinh doanh
          </label>
          <input type="file" accept="image/*" (change)="onFileChangeAfter($event)" class="form-control"
            id="cardIdImageAfter"  name="cardIdImageAfter" formControlName="cardIdImageAfter"  />
        </div>

        <!-- Image Preview -->
        <div *ngIf="imagePreviewAfter" class="mt-3">
          <!--      <label class="form-label fw-bolder text-gray-900 fs-6">Preview</label>-->
          <img [src]="imagePreviewAfter" alt="Card ID Image" class="img-thumbnail"
            style="max-width: 200px; max-height: 200px;" />
        </div>

        <!-- Hiển thị lỗi nếu chưa tải file -->
        <!-- <div *ngIf="registrationForm.controls['cardIdImageAfter'].hasError('required')">
          <small class="text-danger" style="font-size: 14px"> ID/Giấy đăng ký Kinh doanh là bắt buộc.</small>
        </div> -->
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Thẻ mặt sau không được để trống',
            control: registrationForm.controls['cardIdImageAfter']
          }"
        ></ng-container>
      </div>
    </div>

    <!-- Address Field -->
    <div class="fv-row mb-4" style="margin-top: 25px">
      <label class="form-label fw-bolder text-gray-900 fs-6">Địa chỉ</label>
      <input
        class="form-control bg-transparent"
        type="text"
        name="address"
        formControlName="address"
        (blur)="trimValue('address')"
        placeholder="Địa chỉ"
        autocomplete="off"
        [ngClass]="{
          'is-invalid': registrationForm.controls['address'].invalid &&
                        (registrationForm.controls['address'].touched || registrationForm.controls['address'].dirty),
          'is-valid': registrationForm.controls['address'].valid && registrationForm.controls['address'].touched
        }"
      />

      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'Địa chỉ không được để trống',
          control: registrationForm.controls['address']
        }"
      ></ng-container>

      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'maxLength',
          message: 'Địa chỉ không được quá 255 ký tự',
          control: registrationForm.controls['address']
        }"
      ></ng-container>
    </div>

    <div class="row mb-8">
      <div class="col-md-6">
        <div class="fv-row mb-4">
          <label class="form-label fw-bolder text-gray-900 fs-6">
            <span style="color: red;">*</span>
            Số điện thoại</label>
          <input class="form-control bg-transparent" type="text" name="phoneNumber" formControlName="phoneNumber"
                 maxlength="11" minlength="10"
            placeholder="Số điện thoại" (blur)="trimInput('phoneNumber')"  autocomplete="off" [ngClass]="{
              'is-invalid': registrationForm.controls['phoneNumber'].invalid &&
                            (registrationForm.controls['phoneNumber'].touched || registrationForm.controls['phoneNumber'].dirty),
              'is-valid': registrationForm.controls['phoneNumber'].valid && registrationForm.controls['phoneNumber'].touched
            }" />
          <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Số điện thoại không được để trống',
            control: registrationForm.controls['phoneNumber']
          }"></ng-container>
          <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
          validation: 'pattern',
          message: 'Số điện thoại sai định dạng ',
          control: registrationForm.controls['phoneNumber']
          }"></ng-container>
          <ng-container
            *ngIf="registrationForm.controls['phoneNumber'].errors?.['minlength']"
          >
            <div class="invalid-feedback">Số điện thoại phải có ít nhất 10 ký tự.</div>
          </ng-container>
        </div>
      </div>
      <div class="col-md-6">
        <div class="fv-row mb-4">
          <label class="form-label fw-bolder text-gray-900 fs-6">
            <span style="color: red;">*</span>
            Website</label>
          <input class="form-control bg-transparent" type="text" name="website" formControlName="website"
            placeholder="Website" autocomplete="off" (blur)="trimInput('website')" [ngClass]="{
              'is-invalid': registrationForm.controls['website'].invalid &&
                            (registrationForm.controls['website'].touched || registrationForm.controls['website'].dirty),
              'is-valid': registrationForm.controls['website'].valid && registrationForm.controls['website'].touched
            }" />
          <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Website không được để trống',
            control: registrationForm.controls['website']
          }"></ng-container>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="row mb-9 text-center align-items-center">
    <input type="checkbox" id="terms-checkbox" style="width: auto;" (change)="onTermsChange($event)">
    <label for="terms-checkbox" style="width: fit-content;">Tôi đã đọc và đồng ý với các <span
        (click)="openTermsPopup()" id="xemdieukhoan">điều khoản dịch vụ</span></label>
  </div> -->
  <div class="form-check mb-4">
    <!-- <input type="checkbox" id="provider-checkbox" [(ngModel)]="isProviderChecked" [ngModelOptions]="{standalone: true}"
      (ngModelChange)="onChangeCheckboxProvider(isProviderChecked)" class="form-check-input"> -->
    <input
      class="form-check-input"
      type="checkbox"
      id="terms-checkbox"
      (change)="onTermsChange($event)"
    />
    <label
      data-bs-toggle="modal"
      data-bs-target="#kt_modal_scrollable_2"
      for="terms-checkbox"
      >Tôi đã đọc và đồng ý với các
      <span id="xemdieukhoan">điều khoản dịch vụ</span></label
    >
  </div>

  <!-- Modal -->
  <div class="modal fade" tabindex="-1" id="kt_modal_scrollable_2">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Điều khoản sử dụng dịch vụ</h2>
          <!--begin::Close-->
          <div
            class="btn btn-icon btn-sm btn-active-light-primary ms-2"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <i class="ki-duotone ki-cross fs-2x"
              ><span class="path1"></span><span class="path2"></span
            ></i>
          </div>
          <!--end::Close-->
        </div>

        <div class="modal-body">
          <h2>1. Mục đích và phạm vi</h2>
          <p>
            1.1. Bên cung cấp (“Bên A”) cam kết cung cấp dữ liệu đầy đủ, hợp
            pháp và đã được xử lý để sử dụng theo mục đích của hợp đồng.
          </p>
          <p>
            1.2. Bên mua (“Bên B”) được quyền sử dụng dữ liệu cho mục đích được
            quy định trong hợp đồng, bao gồm nhưng không giới hạn: nghiên cứu,
            phân tích, và các hoạt động kinh doanh.
          </p>

          <h2>2. Quyền sở hữu và cấp phép</h2>
          <p>2.1. Quyền sở hữu dữ liệu vẫn thuộc về Bên A.</p>
          <p>
            2.2. Bên B được cấp phép sử dụng dữ liệu trong thời gian hợp đồng
            hiệu lực và tuân thủ các điều kiện trong hợp đồng.
          </p>

          <h2>3. Quy định bảo mật</h2>
          <p>
            3.1. Bên B phải đảm bảo bảo mật dữ liệu, không được chia sẻ với bên
            thứ ba nếu không có sự đồng ý bằng văn bản của Bên A.
          </p>
          <p>
            3.2. Các biện pháp bảo mật bao gồm mã hóa, hạn chế truy cập, và lưu
            trữ an toàn.
          </p>

          <h2>4. Trách nhiệm pháp lý</h2>
          <p>
            4.1. Bên A cam kết rằng dữ liệu cung cấp không vi phạm quyền sở hữu
            trí tuệ, quyền bí mật thông tin cá nhân hoặc bất kỳ quy định pháp
            luật nào.
          </p>
          <p>
            4.2. Bên B chịu trách nhiệm hoàn toàn trước pháp luật nếu sử dụng dữ
            liệu sai mục đích hoặc vi phạm quy định bảo mật.
          </p>

          <h2>5. Cam kết về chất lượng dữ liệu</h2>
          <p>
            5.1. Bên A cam kết rằng dữ liệu cung cấp đã được xử lý, lọc bỏ các
            thông tin nhạy cảm hoặc nhằm mục đích hợp pháp.
          </p>
          <p>
            5.2. Trường hợp dữ liệu sai lệch, Bên B phải thông báo cho Bên A
            trong vòng 15 ngày để được hỗ trợ hoặc thay thế.
          </p>

          <h2>6. Quyền riêng tư và tuân thủ pháp luật</h2>
          <p>
            6.1. Cả hai bên phải tuân thủ các quy định pháp luật liên quan đến
            bảo vệ thông tin cá nhân (như GDPR, CCPA, Luật An ninh mạng).
          </p>
          <p>
            6.2. Dữ liệu cá nhân phải được xử lý một cách minh bạch và chỉ sử
            dụng cho các mục đích đã được thỏa thuận.
          </p>

          <h2>7. Điều khoản thanh toán</h2>
          <p>
            7.1. Bên B sẽ thanh toán đầy đủ và đúng hạn theo các điều khoản được
            quy định trong hợp đồng.
          </p>
          <p>
            7.2. Trường hợp thanh toán chậm trễ, Bên A có quyền áp dụng các biện
            pháp phạt hoặc tạm ngừng cung cấp dữ liệu cho đến khi nhận đủ khoản
            thanh toán.
          </p>

          <h2>8. Giải quyết tranh chấp</h2>
          <p>
            8.1. Mọi tranh chấp phát sinh từ hoặc liên quan đến hợp đồng sẽ được
            giải quyết thông qua thương lượng thiện chí giữa hai bên.
          </p>
          <p>
            8.2. Nếu không đạt được thỏa thuận, tranh chấp sẽ được đưa ra giải
            quyết tại tòa án có thẩm quyền theo quy định pháp luật.
          </p>

          <h2>9. Thời hạn và chấm dứt hợp đồng</h2>
          <p>
            9.1. Hợp đồng có hiệu lực từ ngày ký kết và kéo dài đến khi hai bên
            hoàn thành nghĩa vụ của mình hoặc theo thời hạn được quy định trong
            hợp đồng.
          </p>
          <p>
            9.2. Một bên có quyền chấm dứt hợp đồng nếu bên còn lại vi phạm
            nghiêm trọng các điều khoản hoặc không khắc phục vi phạm trong thời
            hạn được yêu cầu.
          </p>

          <h2>10. Điều khoản bổ sung</h2>
          <p>
            10.1. Các điều khoản bổ sung, nếu có, phải được lập thành văn bản và
            có chữ ký của đại diện hợp pháp từ cả hai bên.
          </p>
          <p>
            10.2. Trong trường hợp một điều khoản bất kỳ của hợp đồng bị tuyên
            bố vô hiệu, các điều khoản còn lại vẫn giữ nguyên giá trị pháp lý.
          </p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
            Đóng
          </button>
        </div>
      </div>
    </div>
  </div>

  <!--begin::Form group-->
  <div class="d-grid mb-10">
    <p-toast />
    <button
      type="submit"
      id="kt_sign_up_submit"
      [disabled]="registrationForm.invalid || !termsAccepted"
      class="btn btn-primary"
    >
      <ng-container *ngIf="(isLoading$ | async) === false">
        <span class="indicator-label">Đăng ký</span>
      </ng-container>
      <ng-container *ngIf="isLoading$ | async">
        <span class="indicator-progress" [style.display]="'block'">
          Please wait...
          <span
            class="spinner-border spinner-border-sm align-middle ms-2"
          ></span>
        </span>
      </ng-container>
    </button>
  </div>
  <!--end::Form group-->

  <!--begin::Sign up-->
  <div class="text-gray-500 text-center fw-semibold fs-6">
    Bạn đã có tài khoản ?

    <a routerLink="/auth/login" class="link-primary fw-semibold"> Đăng nhập </a>
  </div>
  <!--end::Sign up-->
</form>

<ng-template
  #formError
  let-control="control"
  let-message="message"
  let-validation="validation"
>
  <ng-container
    *ngIf="control.hasError(validation) && (control.dirty || control.touched)"
  >
    <div class="fv-plugins-message-container">
      <div class="fv-help-block">
        <span role="alert">
          {{ message }}
        </span>
      </div>
    </div>
  </ng-container>
</ng-template>
